(window.webpackJsonp=window.webpackJsonp||[]).push([[19,3],{447:function(e,t,r){"use strict";r.r(t);var n={name:"Content",props:{title:{type:String,default:""},date:{type:String,default:""},content:{type:Array,default:function(){return[]}},reference:{type:Array,default:function(){return[]}},source:{type:Array,default:function(){return[]}}},data:function(){return{}},mounted:function(){},methods:{}},o=r(75),c=r(90),l=r.n(c),d=r(454),h=r(444),m=r(546),v=(r(11),r(12),r(10),r(5),r(15),r(9),r(16),r(2)),y=(r(24),r(117),r(452),r(98)),f=r(28),_=r(35),S=r(7),w=r(0);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var O=Object(S.a)(Object(y.a)("bar",["height","window"]),f.a,_.a).extend({name:"v-system-bar",props:{height:[Number,String],lightsOut:Boolean,window:Boolean},computed:{classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(v.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"v-system-bar--lights-out":this.lightsOut,"v-system-bar--absolute":this.absolute,"v-system-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-system-bar--window":this.window},this.themeClasses)},computedHeight:function(){return this.height?isNaN(parseInt(this.height))?this.height:parseInt(this.height):this.window?32:24},styles:function(){return{height:Object(w.h)(this.computedHeight)}}},methods:{updateApplication:function(){return this.$el?this.$el.clientHeight:this.computedHeight}},render:function(e){var data={staticClass:"v-system-bar",class:this.classes,style:this.styles,on:this.$listeners};return e("div",this.setBackgroundColor(this.color,data),Object(w.s)(this))}}),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("div",{staticClass:"main"},[r("div",{staticClass:"title"},[r("h1",[e._v(e._s(e.title))]),e._v("\n      "+e._s(e.date)+"\n    ")]),e._v(" "),r("hr",{staticStyle:{height:"1px",border:"none","background-color":"white"}}),e._v(" "),r("div",{staticClass:"content",staticStyle:{"margin-bottom":"50px"}},[r("div",{staticStyle:{"margin-top":"30px"}},e._l(e.content,(function(t,i){return r("div",{key:i},[""!==t.title?r("h3",{staticStyle:{margin:"0px 0 5px 0"}},[i>0?r("br"):e._e(),e._v("\n            #"+e._s(t.title)+" \n          ")]):e._e(),e._v(" "),"I"===t.type?r("div",{staticStyle:{margin:"10px 0 10px 10px"}},[r("img",{attrs:{src:t.scr,alt:""}})]):e._e(),e._v(" "),"P"===t.type?r("div",{staticStyle:{margin:"10px 0 10px 10px"}},[r("pre",[e._v(e._s(t.scr)),""!==t.link?r("span",[r("a",{attrs:{href:t.link}},[e._v(e._s(t.link))])]):e._e()])]):e._e(),e._v(" "),"C"===t.type?r("v-card",{staticStyle:{margin:"10px 10px 10px 10px"},attrs:{color:"#333333"}},[r("v-system-bar",{attrs:{color:"#222222"}},[e._v(" Code ")]),e._v(" "),r("pre",{staticStyle:{margin:"10px"}},[e._v(e._s(t.scr))])],1):e._e(),e._v(" "),"T"===t.type?r("v-data-table",{staticStyle:{margin:"10px 10px 20px 10px"},attrs:{headers:t.scr.headers,items:t.scr.desserts,"items-per-page":t.scr.desserts.length,"hide-default-footer":""}}):e._e(),e._v(" "),"L"===t.type?r("ul",e._l(t.scr.parent,(function(n){return r("li",{key:n},[e._v("\n              "+e._s(n)+"\n              "),t.scr.children.length>0?r("ul",e._l(t.scr.children,(function(t){return r("li",{key:t},[e._v("\n                "+e._s(t)+"\n                ")])})),0):e._e()])})),0):e._e()],1)})),0),e._v(" "),e.source.length>0?r("h3",{staticStyle:{"margin-top":"50px"}},[e._v("#참고")]):e._e(),e._v(" "),e._l(e.source,(function(t){return r("div",{key:t.url},[r("h4",[r("a",{attrs:{href:t.url}},[e._v(e._s(t.url)+" "),""!==t.title?r("span",{staticStyle:{color:"white"}},[e._v(" ["+e._s(t.title)+"]")]):e._e()])])])})),e._v(" "),e.reference.length>0?r("h3",{staticStyle:{"margin-top":"50px"}},[e._v("#출처")]):e._e(),e._v(" "),e._l(e.reference,(function(t){return r("div",{key:t.url},[r("h4",[r("a",{attrs:{href:t.url}},[e._v(e._s(t.url)+" "),""!==t.title?r("span",{staticStyle:{color:"white"}},[e._v(" ["+e._s(t.title)+"]")]):e._e()])])])}))],2),e._v(" "),r("script",{attrs:{src:"https://utteranc.es/client.js",repo:"choongbeom/choongbeom.github.io","issue-term":"pathname",theme:"github-light",crossorigin:"anonymous",async:""}})])])}),[],!1,null,null,null);t.default=component.exports;l()(component,{VCard:d.a,VContainer:h.a,VDataTable:m.a,VSystemBar:O})},452:function(e,t,r){var content=r(453);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(18).default)("dd2325f0",content,!0,{sourceMap:!1})},453:function(e,t,r){var n=r(17)(!1);n.push([e.i,".theme--light.v-system-bar{background-color:#e0e0e0;color:rgba(0,0,0,.6)}.theme--light.v-system-bar .v-icon{color:rgba(0,0,0,.6)}.theme--light.v-system-bar--lights-out{background-color:hsla(0,0%,100%,.7)!important}.theme--dark.v-system-bar{background-color:#000;color:hsla(0,0%,100%,.7)}.theme--dark.v-system-bar .v-icon{color:hsla(0,0%,100%,.7)}.theme--dark.v-system-bar--lights-out{background-color:rgba(0,0,0,.2)!important}.v-system-bar{align-items:center;display:flex;font-size:.875rem;font-weight:400;padding:0 8px}.v-system-bar .v-icon{font-size:1rem;margin-right:4px}.v-system-bar--absolute,.v-system-bar--fixed{left:0;top:0;width:100%;z-index:3}.v-system-bar--fixed{position:fixed}.v-system-bar--absolute{position:absolute}.v-system-bar--window .v-icon{font-size:1.25rem;margin-right:8px}",""]),e.exports=n},565:function(e,t,r){"use strict";r.r(t);var n={name:"Swagger",components:{Content:r(447).default},data:function(){return{title:"Swagger와 Spring REST Docs 통합",date:"2021-12-20",content:[{title:"Swagger와 Spring REST Docs 통합에 대한 고찰",type:"P",scr:"API 서버의 API 함수를 자동으로 문서화를 해주는 프레임워크들이다. 다만 각각의 장단점이 명확하여 어떤것으로 선정해야 될지 고민을 많이 하게 된다.\n그러던 와중 “태태태님의 기술 블로그에서 Swagger와 Spring Restdocs의 우아한 조합 (by OpenAPI Spec)” 위와 같은 고민을 이미 해주신 덕분에 구현 테스트를 적용해 보았다.\n\n결론부터 말하자면, Swagger와 Spring REST Docs 통합은 비효율 적인것 같다라는게 개인적인 견해이다. 통합을 하게 되면 Spring REST Docs만의 장점을 많이 잃어 버리는 느낌이 들었다.\n\n각각 프레임워크의 장단점은 아래와 같다."},{title:"",type:"L",scr:{parent:["Swagger"],children:["문서에 대한 명세 보다는 API를 쉽게 호출해 볼수 있는 것에 초점","테스트 코드가 없어도 문서화 가능 (Controller에 Annotation만 붙이면됨)","API 테스트 UI 제공"]}},{title:"",type:"L",scr:{parent:["Spring REST Docs"],children:["RESTful (자원을 이름으로 구분하여 해당 자원의 상태를 주고받는 모든 것 ) 서비스에 대한 문서 생성을 도와준다.","테스트를 통해 API 문서를 만듬","HTML, PDF 문서로 생성가능 Hosting 도 가능","변경에 따른 최신화 보장"]}},{title:"",type:"L",scr:{parent:["OpenAPI Spec"],children:["Rest API 에 대한 설명, 생성, 사용 및 시각화 하기 위한 인터페이스 파일 사용","YAML 로 작성하면 이를 Swagger HTML로 바꿔주는 Spec"]}},{title:"",type:"P",scr:"태태태님의 기술 블로그에서는 MSA(MicroService Architecture) 환경을 기반으로 작성되어 있다.\nMSA를 간단히 설명하면 기능별로 서버를 분리시킨다고 생각하면 된다.\n갑자기 MSA를 거론한 이유는 Swagger와 Rest Docs를 통합하기 위해 Swagger 서버를 별도로 구축해야 되는 단점이 있다.\nSwagger의 경우 API 서버가 하나일 경우에는 API 서버에서 바로 작성을 하게 된다.\n그러나, API 서버가 여러개가 있을 경우 각각 API서버에 접속하여 확인을 해야 되는 단점이 발생한다.\n즉, API 서버별 Swager URL을 관리해야 된다. 그러한 단점을 극복하기 위해 Swagger의 서버를 별도로 구축하여 API 문서를 통합하여 사용한다.\n\n다음은 Docker를 이용하여 Swagger 서버를 구축한 방법 및 통합하는 과정이다."},{title:"docker에 swagger ui실행방법",type:"L",scr:{parent:["docker에 swagger ui 이미지를 구동하여 구동된 container에 swagger json파일과 rest docs json파일을 지정된 위치에 복사하여 swagger ui에 swagger api와 rest doc을 통합한다.","docker를 설치 - OS에 따라 설치방법이 다름."],children:[]}},{title:"",type:"L",scr:{parent:["swagger image를 docker에 pull"],children:["docker pull swaggerapi/swagger-ui"]}},{title:"",type:"L",scr:{parent:["docker에 받은 image를 실행"],children:["docker run -d -p 80:8080 -e SWAGGER_JSON=docs/swagger.json -e URLS_PRIMARY_NAME=SpringRestdocs -e URLS=”[{ url: ‘docs/swagger.json’, name: ‘Swagger’ }, { url: ‘docs/restdocs.json’, name: ‘SpringRestdocs’ }]” -v g:\\project\\apiserver\\docs:/usr/share/nginx/html/docs/ swaggerapi/swagger-ui"]}},{title:"",type:"L",scr:{parent:["빌드 시 “.\\gradlew clean build openapi3”"],children:["clean을 안할경우 빌드 실패가 간혹 발생","openapi를 통해서 rest docs을 json으로 변경함."]}},{title:"",type:"L",scr:{parent:["copy .\\build\\api-spec\\openapi3.json .\\docs\\restdocs.json"],children:["openapi로 생성된 json파일을 docker와 볼륨 바운딩(-v)된 폴더에 복사함."]}}],source:[{title:"꿈꾸는 태태태의 공간",url:"https://taetaetae.github.io/posts/a-combination-of-swagger-and-spring-restdocs/"}],reference:[{title:"라이프온룸",url:"https://lifeonroom.com/study-lab/spring-rest-docs/"}]}},mounted:function(){},methods:{}},o=r(75),c=r(90),l=r.n(c),d=r(444),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("div",[r("Content",{attrs:{title:e.title,date:e.date,content:e.content,source:e.source,reference:e.reference}})],1)])}),[],!1,null,null,null);t.default=component.exports;l()(component,{Content:r(447).default}),l()(component,{VContainer:d.a})}}]);